{% extends "layout.html" %}
{% block title %}Analytics – InvestaVisor{% endblock %}

{% block content %}
<section class="card">
  <h2>Your analytics</h2>
  <p class="muted">Lightweight usage stats for your advisory journey.</p>

  <h3>Plans generated</h3>
  <div class="output">Total plans: {{ a.total_plans }}</div>

  <h3>Plans by type</h3>
  <div class="output">
{% for row in a.plans_by_type -%}
- {{ row.plan_type }}: {{ row.c }}
{% else -%}
No plans yet.
{% endfor -%}
  </div>

  <h3>Recent plans</h3>
  <div class="output">
{% for p in a.recent_plans -%}
- #{{ p.id }} ({{ p.plan_type }}) – {{ p.created_at }}
{% else -%}
No plans yet.
{% endfor -%}
  </div>

  <h3>Events by type</h3>
  <div class="output">
{% for e in a.events_by_type -%}
- {{ e.event_type }}: {{ e.c }}
{% else -%}
No events yet.
{% endfor -%}
  </div>
</section>
{% endblock %}
